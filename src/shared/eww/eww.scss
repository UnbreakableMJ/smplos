/* smplOS EWW Stylesheet */
/* Single bar with integrated system tray */

/* ============================================================================
   THEME COLORS -- defaults (catppuccin) overridden by theme-colors.scss
   ============================================================================ */

/* Fallback defaults so EWW never shows a white unstyled background */
$theme-bg: #1e1e2e !default;
$theme-bg-light: #45475a !default;
$theme-bg-lighter: #585b70 !default;
$theme-fg: #cdd6f4 !default;
$theme-fg-dim: #a6adc8 !default;
$theme-accent: #89b4fa !default;
$theme-accent-alt: #f5c2e7 !default;
$theme-green: #a6e3a1 !default;
$theme-red: #f38ba8 !default;
$theme-yellow: #f9e2af !default;
$theme-orange: #f9e2af !default;
$theme-cyan: #94e2d5 !default;
$theme-popup-opacity: 0.75 !default;

/* Override with active theme colors (written by theme-set) */
@import "theme-colors";

/* Alias theme vars for use in this stylesheet */
$bg: $theme-bg;
$bg-light: $theme-bg-light;
$bg-lighter: $theme-bg-lighter;
$fg: $theme-fg;
$fg-dim: $theme-fg-dim;
$accent: $theme-accent;
$accent-alt: $theme-accent-alt;
$green: $theme-green;
$red: $theme-red;
$yellow: $theme-yellow;
$orange: $theme-orange;
$popup-opacity: $theme-popup-opacity;
$border-radius: 2px;
$font: "JetBrains Mono Nerd Font";

/* ============================================================================
   GLOBAL
   ============================================================================ */

* {
  all: unset;
  font-family: $font, "Font Awesome 6 Free", sans-serif;
  font-size: 13px;
  color: $fg;
}

/* ============================================================================
   TOOLTIPS
   ============================================================================ */

tooltip {
  background-color: rgba(darken($bg, 5%), 0.92);
  border: 1px solid rgba($bg-lighter, 0.35);
  border-radius: 6px;
  padding: 4px 8px;
  color: $fg;
  font-size: 11px;
}

tooltip * {
  background-color: transparent;
  color: $fg;
}

/* EWW adds a CSS class matching the window name to the root widget.
   Explicit transparent background to support rounded corners on floating bar. */
window {
  background-color: transparent;
}

/* ============================================================================
   BAR
   ============================================================================ */

.bar-content {
  background-color: rgba($bg, 0.95);
  border-radius: $border-radius;
  border: 1px solid rgba($bg-lighter, 0.95);
  padding: 2px 5px;
}

.bar-left,
.bar-center,
.bar-right {
  padding: 0 2px;
}

/* Logo */
.logo {
  font-size: 16px;
  color: $accent;
  padding: 2px 6px;
  border-radius: 4px;
  transition: all 200ms ease;
}

.logo label {
  color: $accent;
}

.logo:hover {
  background-color: $bg-light;
}

/* Workspaces */
.workspaces {
  padding: 0 4px;
}

.workspace {
  padding: 2px 10px;
  border-radius: 12px;
  color: rgba($accent, 0.8);
  transition: all 200ms ease;
}

.workspace label {
  color: rgba($accent, 0.8);
}

.workspace .ws-icon {
  font-size: 13px;
}

.workspace .ws-dot {
  font-size: 6px;
}

.workspace:hover {
  background-color: rgba($bg-light, 0.6);
  color: $accent;
}
.workspace:hover label {
  color: $accent;
}

.workspace.occupied label {
  color: $accent;
}

.workspace.active {
  background-color: $accent;
  font-weight: bold;
}
.workspace.active label {
  color: $bg;
}

/* Window title */
.window-title {
  color: $fg-dim;
  padding: 0 12px;
}

/* System stats removed */

/* Power button removed */

/* ============================================================================
   TRAY (icon-only indicators in bar-right)
   ============================================================================ */

.tray {
  padding: 0 4px;
}

.tray-volume,
.tray-wifi,
.tray-bluetooth,
.tray-internet,
.tray-notifications,
.tray-usb,
.tray-clock {
  padding: 2px 6px;
  border-radius: 4px;
  transition: all 150ms ease;
}

.tray-volume:hover,
.tray-wifi:hover,
.tray-bluetooth:hover,
.tray-internet:hover,
.tray-notifications:hover,
.tray-usb:hover,
.tray-clock:hover {
  background-color: $bg-light;
}

.tray-volume .icon,
.tray-wifi .icon,
.tray-bluetooth .icon,
.tray-notifications .icon,
.tray-usb .icon {
  font-size: 14px;
  color: $accent;
}

/* Internet icon: colors baked into SVGs by theme-set (no CSS needed) */
.tray-internet .icon {
  font-size: 14px;
}

/* Notifications: shape conveys state (outline=empty, filled=has, slash=DND) */

/* Clock in tray */
.tray-clock .time {
  font-weight: bold;
  color: $accent;
}

/* ============================================================================
   CALENDAR POPUP
   ============================================================================ */

.cal-popup {
  background-color: rgba(darken($bg, 5%), $popup-opacity);
  border-radius: 6px;
  border: 1px solid rgba($bg-lighter, 0.35);
  padding: 12px;
  box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.3);
}

.cal-header {
  padding: 4px 4px 8px;
}

.cal-month {
  font-size: 14px;
  font-weight: bold;
  color: $accent;
}

.cal-close {
  font-size: 13px;
  font-weight: bold;
  color: $bg;
  background-color: $accent;
  padding: 2px 8px;
  border-radius: 4px;
  min-width: 20px;
  min-height: 20px;
}

.cal-close:hover {
  background-color: $red;
  color: $bg;
}

/* GTK3 calendar widget styles */
.cal-widget {
  color: $fg;
  font-size: 12px;
}

.cal-widget calendar {
  color: $fg;
  background-color: transparent;
}

.cal-widget calendar:selected {
  background-color: $accent;
  color: $bg;
  border-radius: 4px;
}

.cal-widget calendar.header {
  color: $accent;
  font-weight: bold;
}

.cal-widget calendar.button {
  color: $fg-dim;
}

.cal-widget calendar:indeterminate {
  color: rgba($fg-dim, 0.4);
}

/* ============================================================================
   USB POPUP
   ============================================================================ */

.usb-popup {
  background-color: rgba(darken($bg, 5%), $popup-opacity);
  border-radius: 6px;
  border: 1px solid rgba($bg-lighter, 0.35);
  padding: 12px;
  box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.3);
}

.usb-header {
  padding: 4px 4px 8px;
}

.usb-title {
  font-size: 14px;
  font-weight: bold;
  color: $accent;
}

.usb-close {
  font-size: 13px;
  font-weight: bold;
  color: $bg;
  background-color: $accent;
  padding: 2px 8px;
  border-radius: 4px;
  min-width: 20px;
  min-height: 20px;
}

.usb-close:hover {
  background-color: $red;
  color: $bg;
}

.usb-device {
  padding: 6px 8px;
  border-radius: 4px;
  background-color: rgba($bg-light, 0.5);
}

.usb-device:hover {
  background-color: $bg-light;
}

.usb-device-icon {
  font-size: 18px;
  color: $accent;
  min-width: 24px;
}

.usb-device-label {
  font-size: 13px;
  font-weight: bold;
  color: $fg;
}

.usb-device-meta {
  font-size: 11px;
  color: $fg-dim;
}

.usb-eject {
  font-size: 16px;
  color: $fg-dim;
  padding: 4px 8px;
  border-radius: 4px;
  min-width: 28px;
}

.usb-eject:hover {
  color: $red;
  background-color: rgba($red, 0.15);
}

/* Quick Settings panel */
@import "quick-settings";

/* Notification Hub */
@import "notification-hub";